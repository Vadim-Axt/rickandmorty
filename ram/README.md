# Rick and Morty Characters Browser

Приложение для просмотра персонажей вселенной «Rick and Morty» с фильтрами, сортировкой и удобной пагинацией. Данные берутся из публичного [Rick and Morty API](https://rickandmortyapi.com/).

---

## Описание

Приложение позволяет:

- просматривать карточки персонажей с картинкой и основной информацией;
- искать по имени и статусу;
- фильтровать персонажей по локации с **частичным** поиском (результаты обновляются по мере ввода);
- сортировать по имени или количеству эпизодов (по возрастанию/убыванию);
- использовать постраничную навигацию с кнопками `Prev` / `Next` и номерами страниц;
- подгружать больше персонажей кнопкой «Загрузить ещё», не теряя уже показанные карточки.

---

## Основной стек

- **Vue 3** (Composition API, `<script setup>`)
- **TypeScript**
- **Vite** — сборка и dev‑сервер
- **Pinia** — состояние персонажей и пагинации
- **Axios** — HTTP‑запросы к Rick and Morty API
- **Bootstrap** (классы в разметке) — базовая верстка и сетка

---

## Возможности

- **Каталог персонажей**
  - сетка карточек с адаптивной версткой;
  - базовая информация о персонаже (имя, статус, вид и т.п.).

- **Поиск и фильтры**
  - поиск по имени (`name`);
  - фильтр по статусу: All / Alive / Dead / unknown;
  - фильтр по локации (поле ввода, запросы отправляются по мере ввода, поиск по подстроке в названии локации).

- **Сортировка**
  - по количеству эпизодов (`episodes`);
  - по имени (`name`);
  - направление: `asc` / `desc`.

- **Пагинация**
  - в `Pinia`‑сторе хранится **единый массив** персонажей под текущими фильтрами;
  - количество страниц вычисляется локально от длины массива (`ceil(len / 24)`);
  - отображение карточек — клиентская пагинация через `slice` по `currentPage` и размеру страницы 24;
  - кнопка «Загрузить ещё» увеличивает текущую страницу и добавляет новые карточки к уже показанным.

---

## Архитектура

Основные части находятся в каталоге `src/features/characters`:

- **`store/characterStore.ts`**
  - Pinia‑хранилище для персонажей: массив `characters`, `currentPage`, `totalPages`;
  - методы `setCharacters`, `appendCharacter`, `clear`.

- **`composables/useCharacters.ts`**
  - единая точка работы с персонажами и фильтрами;
  - хранит состояние фильтров/сортировки (`nameSearch`, `status`, `sortBy`, `sortDir`, `locationFilter`);
  - `fetchPage` — загружает **все страницы** персонажей под текущие фильтры и сохраняет в сторе;
  - `fetchByLocation` — загружает персонажей по выбранным локациям (частичный поиск);
  - `filtered` — `computed`, который применяет фильтры и сортировку к данным стора.

- **Компоненты**
  - `components/CharacterPage.vue` — главная страница списка персонажей, отображение карточек и пагинации;
  - `components/CharacterControls.vue` — панель фильтров, поиска и сортировки;
  - `components/CharacterCard.vue` — карточка персонажа.

---

## Установка и запуск

```bash
# установка зависимостей
npm install

# запуск в режиме разработки
npm run dev

# сборка для продакшена
npm run build

# локальный предпросмотр собранного билда
npm run preview
```

По умолчанию Vite поднимает dev‑сервер по адресу `http://localhost:5173` (порт может отличаться, смотрите вывод команды).

---

## Структура проекта (кратко)

```text
ram/
  src/
    features/
      characters/
        components/
          CharacterPage.vue
          CharacterControls.vue
          CharacterCard.vue
        composables/
          useCharacters.ts
        store/
          characterStore.ts
    types.ts           # типы API (персонажи, локации)
  index.html
  vite.config.ts
  package.json
  README.md
```

---

## Дополнительно

- Проект использует общий `useCharacters`, поэтому фильтры, сортировка и состояние загрузки едины для всех мест, где он подключается.
- Добавлять новые фильтры или типы сортировки проще всего в `applyFiltersAndSort` внутри `useCharacters.ts`.

Если планируется дорабатывать проект (добавлять детальную страницу персонажа, избранное и т.д.), удобно продолжать раскладывать функциональность по фичам в `src/features` по тому же принципу.

